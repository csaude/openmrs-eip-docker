{
   "processType":"ETL",
   "etlRootDirectory":"/home/eip/application/epts-etl",
   "originAppLocationCode":"origin_app_location_code",
   "reRunable":true,
   "params":{
      "startDate":"start_date"
   },
   "autoIncrementHandlingType":"AS_SCHEMA_DEFINED",
   "srcConnInfo":{
      "dataBaseUserName":"root",
      "dataBaseUserPassword":"spring_openmrs_datasource_password",
      "connectionURI":"jdbc:mysql://openmrs_db_host:openmrs_db_port/openmrs_db_name?autoReconnect=true&useSSL=false",
      "driveClassName":"com.mysql.cj.jdbc.Driver"
   },
   "dstConnInfo":{
      "dataBaseUserName":"root",
      "dataBaseUserPassword":"spring_openmrs_datasource_password",
      "connectionURI":"jdbc:mysql://openmrs_db_host:openmrs_db_port/openmrs_eip_sender_mgt_db_sync_senderId?autoReconnect=true&useSSL=false",
      "driveClassName":"com.mysql.cj.jdbc.Driver"
   },
   "operations":[
      {
         "operationType":"ETL",
         "processingBatch":1000,
         "threadingMode":"MULTI",
         "processingMode":"SERIAL",
         "useMysqlInsertIgnore":false,
         "skipFinalDataVerification":true,
         "doNotWriteOperationHistory":true,
         "disableMultithreadingSearch":false,
         "finishOnNoRemainRecordsToProcess":true
      }
   ],
   "etlItemConfiguration":[
      {
         "etlItemSrcConf":{
            "tableName":"epts_etl_stage_area.epts_etl_openmrs_re_sync_table"
         },
         "srcConf":{
            "tableName":"@table_name",
            "tableAlias":"_@table_name",
            "extraConditionForExtract":"_@tableName.date_created >= @startDate",
            "extraObjectDataSource":[
               {
                  "name":"sender_retry_queue_data",
                  "objectFields":[
                     {
                        "name":"table_name",
                        "value":"@table_name"
                     },
                     {
                        "name":"primary_key_id",
                        "value":"@@primary_key_field"
                     },
                     {
                        "name":"identifier",
                        "value":"@uuid"
                     },
                     {
                        "name":"operation",
                        "value":"c"
                     },
                     {
                        "name":"attempt_count",
                        "value":"1"
                     },
                     {
                        "name":"snapshot",
                        "value":"0",
                        "dataType":"int"
                     },
                     {
                        "name":"message",
                        "value":"RE-SYNC FOR FILL GAPES"
                     },
                     {
                        "name":"date_created",
                        "value":"@date_created"
                     },
                     {
                        "name":"date_changed",
                        "value":"@@observation_date_01"
                     },
                     {
                        "name":"request_uuid"
                     },
                     {
                        "name":"event_date"
                     },
                     {
                        "name":"exception_type",
                        "value":"java.lang.Exception"
                     }
                  ],
                  "fieldsValuesGenerator":""
               }
            ]
         },
         "dstConf":[
            {
               "tableName":"sender_retry_queue",
               "prefferredDataSource":[
                  "sender_retry_queue_data"
               ]
            }
         ]
      },
      {
         "etlItemSrcConf":{
            "tableName":"epts_etl_stage_area.epts_etl_openmrs_re_sync_table"
         },
         "srcConf":{
            "tableName":"@table_name",
            "tableAlias":"_@table_name",
            "extraConditionForExtract":"_@tableName.@observation_date_01 >= @startDate or _@tableName.@observation_date_02 >= @startDate",
            "extraObjectDataSource":[
               {
                  "name":"sender_retry_queue_data",
                  "objectFields":[
                     {
                        "name":"table_name",
                        "value":"@table_name"
                     },
                     {
                        "name":"primary_key_id",
                        "value":"@@primary_key_field"
                     },
                     {
                        "name":"identifier",
                        "value":"@uuid"
                     },
                     {
                        "name":"operation",
                        "value":"u"
                     },
                     {
                        "name":"attempt_count",
                        "value":"1"
                     },
                     {
                        "name":"snapshot",
                        "value":"0",
                        "dataType":"int"
                     },
                     {
                        "name":"message",
                        "value":"RE-SYNC FOR FILL GAPES"
                     },
                     {
                        "name":"date_created",
                        "value":"@date_created"
                     },
                     {
                        "name":"date_changed",
                        "value":"@@observation_date_01"
                     },
                     {
                        "name":"request_uuid"
                     },
                     {
                        "name":"event_date"
                     },
                     {
                        "name":"exception_type",
                        "value":"java.lang.Exception"
                     }
                  ],
                  "fieldsValuesGenerator":""
               }
            ]
         },
         "dstConf":[
            {
               "tableName":"sender_retry_queue",
               "prefferredDataSource":[
                  "sender_retry_queue_data"
               ]
            }
         ]
      }
   ]
}
